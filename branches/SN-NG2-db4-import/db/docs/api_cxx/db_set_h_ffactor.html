<!--$Id: db_set_h_ffactor.so,v 10.37 2004/09/28 15:04:19 bostic Exp $-->
<!--Copyright (c) 1997,2007 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: Db::set_h_ffactor</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td>
<h3>Db::set_h_ffactor</h3>
</td>
<td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a>
<a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a></td>
</tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
Db::set_h_ffactor(u_int32_t h_ffactor);
<p>
int Db::get_h_ffactor(u_int32_t *h_ffactorp);
</pre></h3>
<hr size=1 noshade>
<h3>Description: Db::set_h_ffactor</h3>
<p>Set the desired density within the hash table.  If no value is
specified, the fill factor will be selected dynamically as pages are
filled.</p>
<p>The Db::set_h_ffactor method configures a database, not only operations performed
using the specified <a href="../api_cxx/db_class.html">Db</a> handle.</p>
<p>The Db::set_h_ffactor method may not be called after the <a href="../api_cxx/db_open.html">Db::open</a> method is called.
If the database already exists when
<a href="../api_cxx/db_open.html">Db::open</a> is called, the information specified to Db::set_h_ffactor will
be ignored.
</p>
<p>The Db::set_h_ffactor method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>h_ffactor</b><dd>The <b>h_ffactor</b> parameter is the desired density within the hash table.
<p>The density is an approximation of the number of keys allowed to
accumulate in any one bucket, determining when the hash table grows or
shrinks.  If you know the average sizes of the keys and data in your
data set, setting the fill factor can enhance performance.  A reasonable
rule computing fill factor is to set it to the following:</p>
<blockquote><pre>(pagesize - 32) / (average_key_size + average_data_size + 8)</pre></blockquote>
</dl>
<h3>Errors</h3>
<p>The Db::set_h_ffactor method
may fail and throw
<a href="../api_cxx/except_class.html">DbException</a>,
encapsulating one of the following non-zero errors, or return one of
the following non-zero errors:</p>
<dl compact>
<dt>EINVAL<dd>If the method was called after <a href="../api_cxx/db_open.html">Db::open</a> was called; or if an
invalid flag value or parameter was specified.
</dl>
<hr size=1 noshade>
<h3>Description: Db::get_h_ffactor</h3>
<p>The Db::get_h_ffactor method returns the hash table density.</p>
<p>The Db::get_h_ffactor method may be called at any time during the life of the
application.</p>
<p>The Db::get_h_ffactor method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>h_ffactorp</b><dd>The Db::get_h_ffactor method returns  the
hash table density in <b>h_ffactorp</b>.
</dl>
<hr size=1 noshade>
<h3>Class</h3>
<a href="../api_cxx/db_class.html">Db</a>
<h3>See Also</h3>
<a href="../api_cxx/db_list.html">Databases and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996,2007 Oracle.  All rights reserved.</font>
</body>
</html>
