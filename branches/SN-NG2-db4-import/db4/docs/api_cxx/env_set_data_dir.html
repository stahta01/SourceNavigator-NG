<!--$Id: env_set_data_dir.so,v 10.28 2004/09/28 15:04:20 bostic Exp $-->
<!--Copyright (c) 1997,2007 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: DbEnv::set_data_dir</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td>
<h3>DbEnv::set_data_dir</h3>
</td>
<td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a>
<a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a></td>
</tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
DbEnv::set_data_dir(const char *dir);
<p>
int
DbEnv::get_data_dirs(const char ***dirpp);
</pre></h3>
<hr size=1 noshade>
<h3>Description: DbEnv::set_data_dir</h3>
<p>Set the path of a directory to be used as the location of the access
method database files.  Paths specified to the <a href="../api_cxx/db_open.html">Db::open</a> function
will be searched relative to this path.  Paths set using this method
are additive, and specifying more than one will result in each specified
directory being searched for database files.  If any directories are
specified, created database files will always be created in the first
path specified.</p>
<p>If no database directories are specified, database files must be named
either by absolute paths or relative to the environment home directory.
See <a href="../ref/env/naming.html">Berkeley DB File Naming</a> for more
information.</p>
<p>The database environment's data directories may also be configured using the
environment's <b>DB_CONFIG</b> file.  The syntax of the entry in that
file is a single line with the string "set_data_dir", one or more whitespace
characters, and the directory name.
</p>
<p>The DbEnv::set_data_dir method configures operations performed using the specified
<a href="../api_cxx/env_class.html">DbEnv</a> handle, not all operations performed on the underlying
database environment.</p>
<p>The DbEnv::set_data_dir method may not be called after the <a href="../api_cxx/env_open.html">DbEnv::open</a> method is
called.
If the database environment already exists when
<a href="../api_cxx/env_open.html">DbEnv::open</a> is called, the information specified to DbEnv::set_data_dir
must be consistent with the existing environment or corruption can
occur.</p>
<p>The DbEnv::set_data_dir method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>dir</b><dd>The <b>dir</b> parameter is a directory to be used as a location for
database files.
<p>When using a Unicode build on Windows (the default), the <b>dir</b>
argument will be interpreted as a UTF-8 string, which is equivalent to
ASCII for Latin characters.</p>
</dl>
<h3>Errors</h3>
<p>The DbEnv::set_data_dir method
may fail and throw
<a href="../api_cxx/except_class.html">DbException</a>,
encapsulating one of the following non-zero errors, or return one of
the following non-zero errors:</p>
<dl compact>
<dt>EINVAL<dd>If the method was called after <a href="../api_cxx/env_open.html">DbEnv::open</a> was called; or if an
invalid flag value or parameter was specified.
</dl>
<hr size=1 noshade>
<h3>Description: DbEnv::get_data_dirs</h3>
<p>The DbEnv::get_data_dirs method returns the NULL-terminated array of directories.</p>
<p>The DbEnv::get_data_dirs method may be called at any time during the life of the
application.</p>
<p>The DbEnv::get_data_dirs method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>dirpp</b><dd>The DbEnv::get_data_dirs method returns a reference to the
NULL-terminated array of directories in <b>dirpp</b>.
</dl>
<hr size=1 noshade>
<h3>Class</h3>
<a href="../api_cxx/env_class.html">DbEnv</a>
<h3>See Also</h3>
<a href="../api_cxx/env_list.html">Database Environments and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996,2007 Oracle.  All rights reserved.</font>
</body>
</html>
