<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="../cygnus1.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>Command Line Options</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<TABLE CLASS="TABLE" WIDTH="100" BORDER="0" ALIGN="center" CELLPADDING="1">
<TR>
<TH COLSPAN="3" ALIGN="center">
<P CLASS="Gotos">
</P>
</TH></TR>
<TR><TD ALIGN="center">
<P CLASS="Gotos"><A HREF="index_ug.html">Contents</A>
</P></TD>
<TD ALIGN="center">
<P CLASS="Gotos"><A HREF="progide.html">Previous</A></P></TD>
<TD ALIGN="center">
<P CLASS="Gotos">
<A HREF="usrguideIX.html">Next</A></P></TD>
</TR></TABLE><HR ALIGN="center">
</DIV>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
</TD>
</TR>
</TABLE>
<H1 CLASS="ChapterTitle">
<A NAME="pgfId-998205"></A><A NAME="52333"></A><BR>
Command Line Options<DIV>
<IMG SRC="elixcmdline-1.gif">
</DIV>
</H1>
<P CLASS="Body">
<A NAME="pgfId-998206"></A>This chapter lists commands you can use for creating 
a target board application and for accessing Source-Navigator from the command line.</P>
<H2 CLASS="Heading1">
<A NAME="pgfId-998211"></A><A NAME="marker-998210"></A>Embedded Target Board Commands</H2>
<P CLASS="Body">
<A NAME="pgfId-998215"></A>Source-Navigator configuration and link scripts 
can be used directly from a command line, if preferred.</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998216"></A>Run application</H4>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-998217"></A>At the shell prompt, type:<BR>
<A NAME="pgfId-998218"></A><KBD CLASS="Code">
config.pl</KBD>
 <KBD CLASS="CodeVariant">
&lt;arguments&gt;</KBD><BR>
<A NAME="pgfId-998222"></A>For a list of the configuration arguments, 
see <A HREF="elixcmdline.html#47739" CLASS="XRef">Config.pl options</A>. 
You must run this script every time the build target type, Red Hat EDK Preferences, 
kernel image, or kernel modules change.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998226"></A>Build the application.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998227"></A>At the shell prompt, type:<BR>
<A NAME="pgfId-998228"></A><KBD CLASS="Code">
link.pl</KBD> <KBD CLASS="CodeVariant">&lt;arguments&gt;</KBD><BR>
<A NAME="pgfId-998229"></A>to update the target filesystem and generate 
the boot image. For a list of link arguments, 
see <A HREF="elixcmdline.html#68477" CLASS="XRef">Link.pl options</A>.
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998233"></A>Reboot the target board, which causes the target 
board to execute the application.</LI>
</OL>
<H4 CLASS="Heading3">
<A NAME="pgfId-998234"></A>Debug application</H4>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-998235"></A>At the shell prompt, type:<BR>
<A NAME="pgfId-998236"></A><KBD CLASS="Code">
config.pl</KBD>
 <KBD CLASS="CodeVariant">
&lt;arguments&gt;</KBD>
<BR>
<A NAME="pgfId-998240"></A>For a list of the configuration arguments, 
see <A HREF="elixcmdline.html#47739" CLASS="XRef">Config.pl options</A>. 
You must run this script every time the build target type, Red Hat EDK 
Preferences, kernel image, or kernel modules change.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998244"></A>Build the application.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998245"></A>At the shell prompt, type:<BR>
<A NAME="pgfId-998246"></A><KBD CLASS="Code">
link.pl</KBD>
 <KBD CLASS="CodeVariant">
&lt;arguments&gt;</KBD>
<BR>
<A NAME="pgfId-998247"></A>to update the target filesystem and generate the boot 
image. For a list of link arguments, 
see <A HREF="elixcmdline.html#68477" CLASS="XRef">Link.pl options</A>.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-998251"></A>Reboot the target board, which causes <KBD CLASS="Code">
gdbserver</KBD>
 to launch. <KBD CLASS="Code">
gdbserver</KBD>
 waits for <KBD CLASS="Code">
gdb</KBD>
 to connect and allow the application to be debugged.</LI>
</OL>
<H3 CLASS="Heading2">
<A NAME="pgfId-998252"></A>Script Arguments</H3>
<P CLASS="Body">
<A NAME="pgfId-998253"></A>This section lists the arguments for the <KBD CLASS="Code">
config.pl</KBD>
 and <KBD CLASS="Code">
link.pl</KBD>
 scripts.</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998255"></A><A NAME="47739"></A>Config.pl options</H4>
<P CLASS="Body">
<A NAME="pgfId-998256"></A><KBD CLASS="Code">
--arch=&lt;architecture&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998257"></A>This sets the target board architecture. 
The default is <KBD CLASS="Code">
x86</KBD>. <KBD CLASS="Code">
ppc</KBD>
 is also supported. See also <KBD CLASS="Code">
--tool-prefix</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998258"></A><KBD CLASS="Code">
--bin-path=&lt;path&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998259"></A>Directory where architecture binaries 
(<KBD CLASS="Code">gdbserver</KBD>
 and <KBD CLASS="Code">
sh</KBD>) are kept. The default is <KBD CLASS="Code">
../../lib/elix</KBD>
 relative to the launcher sources.</P>
<P CLASS="Body">
<A NAME="pgfId-998263"></A><KBD CLASS="Code">
--boot-image=&lt;file&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998264"></A>Specify the output boot image file name. 
This is a mandatory argument.</P>
<P CLASS="Body">
<A NAME="pgfId-998265"></A><KBD CLASS="Code">
--debug:[gdbinit=&lt;file&gt;:]</KBD><BR>
<P CLASS="BodyListFollow"><A NAME="pgfId-998266"></A><KBD CLASS="Code">
[ethernet:port=&lt;port&gt;]</KBD>
<BR><P CLASS="BodyListFollow">
<A NAME="pgfId-998267"></A><KBD CLASS="Code">
[serial:target=&lt;device&gt;:host=&lt;device&gt;:baud=&lt;baud&gt;]</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998268"></A>Debug target via an ethernet or serial 
connection. <KBD CLASS="Code">
gdbinit</KBD>
 specifies the name of the <KBD CLASS="Code">
gdb</KBD>
 script to use to automate the connection. The default is <KBD CLASS="Code">
.gdbinit</KBD>.</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998269"></A>When specifying ethernet, <KBD CLASS="Code">
port</KBD>
 is the port the debug server is listening on. The default port number is 
9999. See <KBD CLASS="Code">
--net</KBD>
 for specifying the hostname for the target when using ethernet.</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998270"></A>When specifying serial, both the target board and host serial devices must be specified. The default baud rate is 9600. Legal values are 9600, 19200, 38400, 57600, and 115200.</P>
<P CLASS="Body">
<A NAME="pgfId-998271"></A><KBD CLASS="Code">
--elix-cfg=&lt;file&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998272"></A>Specify the file in which the configuration is saved. This is a mandatory argument.</P>
<P CLASS="Body">
<A NAME="pgfId-998273"></A><KBD CLASS="Code">
--elix-path=&lt;path&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998274"></A>Specify the path to the launcher sources. This is a mandatory argument.</P>
<P CLASS="Body">
<A NAME="pgfId-998275"></A><KBD CLASS="Code">
--help</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998276"></A>Displays possible arguments to <KBD CLASS="Code">
config.pl</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998277"></A><KBD CLASS="Code">
--kernel:[all-modules:][module=&lt;name&gt;.o[,options]:]</KBD>
<BR><P CLASS="BodyListFollow">
<A NAME="pgfId-998278"></A><KBD CLASS="Code">
[path=&lt;path&gt;:][image=&lt;file&gt;]</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998279"></A><KBD CLASS="Code">
path</KBD>
 is the directory containing the Linux sources. This is required to find the kernel 
image and modules. The kernel image name is computed based on the target board 
architecture, but can be overridden using the image option.</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998280"></A>Using <KBD CLASS="Code">
all-modules</KBD>
 or module options cause modules to be installed in the <KBD CLASS="Code">
&lt;root&gt;/lib/modules</KBD>
 directory. Unless the <KBD CLASS="Code">
all-modules</KBD>
 option is used, only explicitly mentioned modules are allowed to remain in the filesystem. All other modules are removed from the <KBD CLASS="Code">
&lt;root&gt;/lib/modules</KBD>
 directory. A list of modules and their arguments is saved to <KBD CLASS="Code">
cfg_modules.h</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998281"></A><KBD CLASS="Code">
--kernel-args=&lt;arguments&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998282"></A>Specifies the arguments to give the kernel at boot time. This can be necessary when including drivers in the kernel instead of as modules.</P>
<P CLASS="Body">
<A NAME="pgfId-998283"></A><KBD CLASS="Code">
--mount:[mp=specialfile,dir,type,rwflags,data]</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998284"></A>Adds the mount points. The <KBD CLASS="Code">
specialfile</KBD>, <KBD CLASS="Code">
dir</KBD>, and <KBD CLASS="Code">
type</KBD>
 fields are like a <KBD CLASS="Code">
/etc/fstab</KBD>
 entry. <KBD CLASS="Code">
rwflags</KBD>
 are defined in <KBD CLASS="Code">
/usr/include/sys/mount.h</KBD>. Use <KBD CLASS="Code">
MS_MGC_VAL</KBD>
 as the <KBD CLASS="Code">
rwflags</KBD>
 default. <KBD CLASS="Code">
data</KBD>
 is for optional filesystem arguments. Use <KBD CLASS="Code">
NULL</KBD>
 as the <KBD CLASS="Code">
data</KBD>
 default.</P>
<P CLASS="Body">
<A NAME="pgfId-998285"></A><KBD CLASS="Code">
--net:[kernel:][dhcp:][hostname=&lt;name&gt;:]</KBD>
<BR>
<P CLASS="BodyListFollow"><A NAME="pgfId-998286"></A><KBD CLASS="Code">
[ip=&lt;ip&gt;:mask=&lt;mask&gt;:broadcast=&lt;ip&gt;[:gateway=&lt;ip&gt;]]</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998287"></A>If <KBD CLASS="Code">
kernel</KBD>
 is specified as the network option, the Linux kernel must acquire the IP addresses. Use <KBD CLASS="Code">
kernel</KBD>
 with the <KBD CLASS="Code">
nfsroot</KBD>
 option (see <KBD CLASS="Code">
--nfsroot</KBD>) where the NFS Root filesystem must be mounted before the application runs.</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998288"></A>For static IP, you must specify the IP address, mask, and broadcast numbers. Additionally, you can add the numeric gateway IP address. The target hostname can also be set. The networking options are saved to <KBD CLASS="Code">
cfg_modules.h</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998289"></A><KBD CLASS="Code">
--nfsroot=&lt;path&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998290"></A>This enables the NFS Root startup. <KBD CLASS="Code">
path</KBD>
 is the directory which the target will mount as the root of its filesystem via NFS.</P>
<P CLASS="Body">
<A NAME="pgfId-998291"></A><KBD CLASS="Code">
--ramdisk:[template=&lt;path&gt;:][type=&lt;type&gt;:][extra=&lt;percentage&gt;:]</KBD>
<BR>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998292"></A><KBD CLASS="Code">
[blocks=&lt;# blocks&gt;:inodes=&lt;# inodes&gt;:]</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998293"></A>This enables the <KBD CLASS="Code">
initrd</KBD>
 startup. <KBD CLASS="Code">
template</KBD>
 specifies the root of the directory to be packed into the RAM Disk. When selecting the Minix filesystem type, the default is to create a disk 10% larger than required. It is possible to specify how much bigger (in percentages) to make the disk size. The absolute size (by disk blocks and inode count) can also be specified.</P>
<P CLASS="Body">
<A NAME="pgfId-998294"></A><KBD CLASS="Code">
--tool-prefix=&lt;prefix&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998295"></A>The tool prefix is automatically set according to the target architecture and the type of the host system. This option allows the prefix to be overridden.</P>
<P CLASS="Body">
<A NAME="pgfId-998296"></A><KBD CLASS="Code">
--verbose</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998297"></A>Print out the shell commands executed by the script.</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998299"></A><A NAME="68477"></A>Link.pl options</H4>
<P CLASS="Body">
<A NAME="pgfId-998300"></A><KBD CLASS="Code">
--app=&lt;file&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998301"></A>Specifies the application executable. 
This is a mandatory argument.</P>
<P CLASS="Body">
<A NAME="pgfId-998302"></A><KBD CLASS="Code">
--debug</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998303"></A>Instead of starting the application directly, 
it is started from <KBD CLASS="Code">
gdbserver</KBD>. Connect with <KBD CLASS="Code">
gdb</KBD>
 from the host according to configuration (ethernet/serial) to start debugging.
If this argument is omitted, the application is stripped before downloaded
to the target board.</P>
<P CLASS="Body">
<A NAME="pgfId-998304"></A><KBD CLASS="Code">
--elix-cfg=&lt;file&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998305"></A>Specifies the configuration file generated by <KBD CLASS="Code">
config.pl</KBD>. This is a mandatory argument.</P>
<P CLASS="Body">
<A NAME="pgfId-998306"></A><KBD CLASS="Code">
--help</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998307"></A>Displays possible arguments to <KBD CLASS="Code">
link.pl</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998308"></A><KBD CLASS="Code">
--verbose</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998309"></A>Print out the shell commands executed by the script.</P>
<H3 CLASS="Heading2">
<A NAME="pgfId-998311"></A><A NAME="marker-998310"></A>Script Overview</H3>
<P CLASS="Body">
<A NAME="pgfId-998312"></A>This section describes the functionality of the <KBD CLASS="Code">
config.pl</KBD>
 and <KBD CLASS="Code">
link.pl</KBD>
 scripts.</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998313"></A>Configuration</H4>
<P CLASS="Body">
<A NAME="pgfId-998314"></A>This is a short description of what occurs in the <KBD CLASS="Code">
config.pl</KBD>
 script, allowing you to diagnose and fix unforeseen problems.</P>
<P CLASS="Body">
<A NAME="pgfId-998315"></A>Read the <KBD CLASS="Code">
config.pl</KBD>
 script for the full details, located in the <KBD CLASS="Code">
/opt/redhat/edk-000221/H-i686-pc-linux-gnulibc2.1/bin</KBD>
 directory.</P>
<H5 CLASS="Heading4">
<A NAME="pgfId-998316"></A>Argument Parsing and Validation</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998317"></A>Arguments are parsed.</LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998318"></A>A few sanity checks are made on the arguments. Unspecified optional arguments are assigned computed values.</LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998319"></A>All specified and computed arguments are saved to the <KBD CLASS="Code">
config.h</KBD>
 file.</LI>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998320"></A>Kernel Module Handling</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998321"></A>Install all modules on the target board filesystem, using the Linux <KBD CLASS="Code">
makefile</KBD>. </LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998322"></A>Optionally remove all modules not listed by the user.</LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998323"></A>Go through the list of modules. Find each module's path and make <KBD CLASS="Code">
cfg_module.h</KBD>
 entry with absolute path and arguments, if any.</LI>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998324"></A>Mount Point Handling</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998325"></A>Generate the <KBD CLASS="Code">
cfg_module.h</KBD>
 file from the list of mount points.</LI>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998326"></A>Network Handling</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998327"></A>One of three execution branches; all output to <KBD CLASS="Code">
cfg_network.h</KBD>.</LI>
<UL>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998328"></A>Kernel is responsible for acquiring the IP address. The <KBD CLASS="Code">
config.pl</KBD>
 script does not need to do anything for this option.</LI>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998329"></A>Dynamic IP via <KBD CLASS="Code">
DHCP</KBD>. Enable the <KBD CLASS="Code">
DHCP</KBD>
 support into the <KBD CLASS="Code">
cfg_network.h</KBD>
 file.</LI>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998330"></A>Static IP. Specify net interface configuration and enable code that will process it.</LI>
</UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998331"></A>Define hostname in <KBD CLASS="Code">
cfg_network.h</KBD>.</LI>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998332"></A>Rebuild Launchers</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998333"></A>Run <KBD CLASS="Code">
make</KBD>
 to get the launchers rebuilt.</LI>
</UL>
<H4 CLASS="Heading3">
<A NAME="pgfId-998334"></A>Link</H4>
<P CLASS="Body">
<A NAME="pgfId-998335"></A>This is a short description of what occurs in the <KBD CLASS="Code">
link.pl</KBD>
 script, allowing you to diagnose and fix unforeseen problems.</P>
<P CLASS="Body">
<A NAME="pgfId-998336"></A>Read the <KBD CLASS="Code">
link.pl</KBD>
 script for the full details, located in <KBD CLASS="Code">
/bin</KBD>.</P>
<H5 CLASS="Heading4">
<A NAME="pgfId-998337"></A>Argument Parsing and Validation</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998338"></A>Arguments are parsed.</LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998339"></A>A few sanity checks are made on the arguments.</LI>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998340"></A>The <KBD CLASS="Code">
config</KBD>
 file generated by <KBD CLASS="Code">
config.pl</KBD>
 is loaded.</LI>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998341"></A>Target /sbin/init Setup</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998342"></A>One of two execution branches:</LI>
<UL>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998343"></A><B>Debugging startup:</B><BR>
<KBD CLASS="Code">
gdbserver</KBD>
 is copied to the target board filesystem (<KBD CLASS="Code">/elix_gdbserver</KBD>). 
<KBD CLASS="Code">
launcher_debug</KBD>
 is copied to the target board filesystem (<KBD CLASS="Code">/sbin/init</KBD>).<BR>
<A NAME="pgfId-998344"></A>A <KBD CLASS="Code">
gdb</KBD>
 command script is generated which allows <KBD CLASS="Code">
gdb</KBD>
 to automatically connect to the target board.</LI>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998346"></A><B>Application startup:</B><BR>
The application is copied to the target board filesystem 
(<KBD CLASS="Code">/app</KBD>). <KBD CLASS="Code">
/elix_gdbserver</KBD>
 is deleted from the target board filesystem. <KBD CLASS="Code">
launcher</KBD>
 is copied to the target board filesystem 
(<KBD CLASS="Code">/sbin/init</KBD>).</LI>
</UL>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998347"></A>RAM Disk Creation</H5>
<P CLASS="Body">
<A NAME="pgfId-998348"></A>This is optional, depending upon your configuration.</P>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998349"></A>One of two execution branches:</LI>
<UL>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998350"></A><B>ROMfs:</B><BR>
The tool <KBD CLASS="Code">
genromfs</KBD>
 is used to create a RAM Disk image. </LI>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998351"></A><B>Minix:</B><BR>
The script <KBD CLASS="Code">
mkproto.pl</KBD>
 is used to create a <KBD CLASS="Code">
proto</KBD>
 file for the files in the template directory. The <KBD CLASS="Code">
proto</KBD>
 file specifies the file layout in the RAM Disk.</LI>
</UL>
</UL>
<H5 CLASS="Heading4">
<A NAME="pgfId-998352"></A>Boot Image Creation</H5>
<UL>
<LI CLASS="Bullet"><P CLASS="Body">
<A NAME="pgfId-998353"></A>One of two execution branches:</LI>
<UL>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998354"></A><B>x86 target:</B><BR>
The tool <KBD CLASS="Code">
mknbi-linux</KBD>
 is used to create a kernel image. This may include a RAM Disk. The output is saved to the boot image, as specified by the <KBD CLASS="Code">
--boot-image</KBD>
 argument.</LI>
<LI CLASS="Bullet2"><P CLASS="Body">
<A NAME="pgfId-998355"></A><B>PowerPC target:</B><BR>
One of two execution branches:</LI>
<UL>
<LI CLASS="Bullet3"><P CLASS="Body">
<A NAME="pgfId-998356"></A>RAM Disk:<BR>
The RAM Disk image is copied to the Linux kernel directory. The Linux <KBD CLASS="Code">
makefile</KBD>
 rule <KBD CLASS="Code">
zImage.initrd</KBD>
 is invoked. The resulting kernel image is copied to the boot image location, as specified by the <KBD CLASS="Code">
--boot-image</KBD>
 argument.</LI>
<LI CLASS="Bullet3"><P CLASS="Body">
<A NAME="pgfId-998357"></A>NFS Root:<BR>
The kernel image is copied to the boot image location, as specified by the <KBD CLASS="Code">
--boot-image</KBD>
 argument.</LI>
</UL>
</UL>
</UL>
<H2 CLASS="Heading1">
<A NAME="pgfId-998362"></A><A NAME="marker-998358"></A>Source-Navigator Commands</H2>
<P CLASS="Body">
<A NAME="pgfId-998366"></A>Source-Navigator supports the following command line options: </P>
<P CLASS="Body">
<A NAME="pgfId-998367"></A><KBD CLASS="Code">
--batchmode</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998371"></A>This forces batch mode to create a new project. If this is set, Source-Navigator will not launch. Instead the following command line options will be used to create a new project.</P>
<P CLASS="Body">
<A NAME="pgfId-998372"></A><KBD CLASS="Code">
--projectname</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998373"></A>This command creates a project in the current directory using the directory path. For example, if the current directory is <KBD CLASS="Code">
/home/foo</KBD>
 and <KBD CLASS="Code">
--projectname</KBD>
 is run, the project name becomes <KBD CLASS="Code">
/home/foo/foo.proj</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998374"></A><KBD CLASS="Code">
--avail-options</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998375"></A>Sets preferences for an option used in project creation.</P>
<P CLASS="Body">
<A NAME="pgfId-998376"></A><KBD CLASS="Code">
--define &lt;option&gt;=&lt;value&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998377"></A>Lists options that can be set using <KBD CLASS="Code">
--define</KBD>.</P>
<P CLASS="Body">
<A NAME="pgfId-998378"></A><KBD CLASS="Code">
--databasedir &lt;directory&gt;</KBD>
<BR>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998379"></A>(synonyms: <KBD CLASS="Code">
-dbdir</KBD>, <KBD CLASS="Code">
-database</KBD>, <KBD CLASS="Code">
-db</KBD>)</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998380"></A>Defines the directory for the symbol databases. Without this, the symbol databases are put in a directory called <KBD CLASS="Code">
.snprj</KBD>
 at the same level as the project file.</P>
<P CLASS="Body">
<A NAME="pgfId-998381"></A><KBD CLASS="Code">
--import &lt;file&gt;</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998382"></A>Specifies a text file with a list of all files or directories to add to the project.</P>
<P CLASS="Body">
<A NAME="pgfId-998383"></A><KBD CLASS="Code">
--noxref</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998384"></A>This option prevents the creation of cross-references. By default, Source-Navigator generates cross-reference information for the project.</P>
<P CLASS="Body">
<A NAME="pgfId-998388"></A>
<P CLASS="Body">
<A NAME="pgfId-998389"></A><KBD CLASS="Code">
--create</KBD>
</P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998390"></A>This option is used to start the Auto-Create dialog. It is not normally used with <KBD CLASS="Code">
--batchmode</KBD>. Source-Navigator prompts the user for information used to create a project.</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998395"></A>Example: <A NAME="marker-998394"></A>Creating a new project in devo-files</H4>
<P CLASS="Body">
<A NAME="pgfId-998396"></A>The following command creates a project named <KBD CLASS="Code">
/home/smith/devo.proj</KBD>
 using the files listed in devo-files in batch mode. The database files are stored in <KBD CLASS="Code">
&#126;/db_files</KBD>. Source-Navigator returns when the project has been created. </P>
<P CLASS="BodyListFollow">
<A NAME="pgfId-998403"></A><KBD CLASS="Code">
&#126;bin/snedk --batchmode &#92;</KBD>
<BR>
<P CLASS="BodyListFollow2"><A NAME="pgfId-998404"></A><KBD CLASS="Code">
--import devo-files &#92;</KBD>
<BR>
<A NAME="pgfId-998405"></A><KBD CLASS="Code">
--databasedir &#126;/db_files &#92;</KBD>
<BR>
<A NAME="pgfId-998406"></A><KBD CLASS="Code">
--project /home/smith/devo</KBD>
<BR>
<H4 CLASS="Heading3">
<A NAME="pgfId-998407"></A>Example: Creating a new project in the current directory</H4>
<P CLASS="Body">
<A NAME="pgfId-998408"></A>The following command creates a project in batch mode using the current directory. It adds all of the files in the current directory and in all of the subdirectories. The current working directory is <KBD CLASS="Code">
/home/smith/devo/snedk</KBD>. The generated project name is <KBD CLASS="Code">
/home/smith/devo/snedk/snedk.proj</KBD>.</P>
<P CLASS="BodyListFollow2">
<A NAME="pgfId-998421"></A><KBD CLASS="Code">
&#126;bin/snedk --batchmode</KBD>
</P>
<H4 CLASS="Heading3">
<A NAME="pgfId-998423"></A>Example: <A NAME="marker-998422"></A>Auto-Create dialog</H4>
<P CLASS="Body">
<A NAME="pgfId-998424"></A>The following command displays the <SPAN CLASS="Bold">
Auto-Create</SPAN>
 dialog, initialized with the current directory, with <KBD CLASS="Code">
foo.proj</KBD>
 as the project name. To view the project, you must open Red Hat EDK.</P>
<P CLASS="BodyListFollow2">
<A NAME="pgfId-998431"></A><KBD CLASS="Code">
&#126;bin/snedk --projectname foo</KBD>
</P>
<P CLASS="Body">
<A NAME="pgfId-998197"></A>
<HR ALIGN="center">
<TABLE CLASS="TABLE" WIDTH="100" BORDER="0" ALIGN="center" CELLPADDING="1">
<TR>
<TH COLSPAN="3" ALIGN="center">
<P CLASS="Gotos">
</P>
</TH></TR>
<TR><TD ALIGN="center">
<P CLASS="Gotos"><A HREF="index_ug.html">Contents</A>
</P></TD>
<TD ALIGN="center">
<P CLASS="Gotos"><A HREF="progide.html">Previous</A></P></TD>
<TD ALIGN="center">
<P CLASS="Gotos">
<A HREF="usrguideIX.html">Next</A></P></TD>
</TR></TABLE>
</BODY>
</HTML>
