<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="../cygnus1.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> Tutorial for Embedded Development</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<TABLE CLASS="TABLE" WIDTH="100" BORDER="0" ALIGN="center" CELLPADDING="1">
<TR><TD ALIGN="center">
<P CLASS="Gotos"><A HREF="index_gs.html">Contents</A>
</P></TD>
<TD ALIGN="center">
<P CLASS="Gotos"><A HREF="gshost.html">Previous</A></P></TD>
<TD ALIGN="center">
<P CLASS="Gotos">
<A HREF="gsdebug.html">Next</A></P></TD>
</TR></TABLE><HR ALIGN="center">
</DIV>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
</TD>
</TR>
</TABLE>
<H1 CLASS="ChapterTitle">
<A NAME="pgfId-499648"></A><A NAME="30414"></A>Developing for Embedded Systems<DIV>
<IMG SRC="gstarget-1.gif">
</DIV>
</H1>
<P CLASS="Body">
<A NAME="pgfId-503931"></A><A NAME="marker-504458"></A>The following documentation shows how to create a project with the  Embedded DevKit. Before beginning, your host system must be configured for the target in order to work with the tutorial; see <A HREF="gsinstall.html#28426" CLASS="XRef">Setting Up for Embedded Work</A> if you have not already. Build your project for a native host system, and then for an embedded target board by creating the project file's database table,  containing all the project-specific files, symbols, and references to other database files. After creating the project file's database table, develop it into an executable, creating build rules, then compiling and debugging. </P>
<P CLASS="Body">
<A NAME="pgfId-507457"></A>To start, see <A HREF="gstarget.html#23541" CLASS="XRef">Tutorial for Embedded Development</A>. </P>
<DIV>
<H1 CLASS="Heading1Top">
<A NAME="pgfId-503281"></A><A NAME="23541"></A>Tutorial for Embedded Development</H1>
<P CLASS="Body">
<A NAME="pgfId-503283"></A><A NAME="marker-503282"></A>The following tutorial describes how to create a project for embedded work with a target board (examples use the <KBD CLASS="CodeVariant">
x</KBD>
86 board). You will change the build rules from working with a host system to work instead with the embedded target. You set up the directories, services and files that your application uses for the host so that the target <A NAME="marker-504390"></A>environment matches your application's filesystem requirements. </P>
<P CLASS="Body">
<A NAME="pgfId-504405"></A>In the following tutorial, you will build the <KBD CLASS="Code">
httpd-demo</KBD> for your native and your embedded target. The<KBD CLASS="Code">
httpd-demo</KBD> is a web server-based calendar. When you complete this tutorial, it will be running on your board; you can then connect to it from a web browser.</P>
<H3 CLASS="Heading2">
<A NAME="pgfId-507438"></A><A NAME="32040"></A>Creating the Build Rules for the Project</H3>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-507439"></A>Create the <KBD CLASS="Code">httpd-demo</KBD> project file 
before creating build rules for a native project.<P>
<KBD CLASS="Code">
mkdir ~/demos<BR>
cd ~/demos<BR>
cp -R /opt/redhat/edk-000221/examples/httpd-demo .</KBD>
<P>Follow the same instructions as with <A HREF="gshost.html#32802" CLASS="XRef">Creating 
a New Project</A> and <A HREF="gshost.html#22587" CLASS="XRef">Working with a New 
Project</A>.</LI>
<LI>
<A NAME="pgfId-503397"></A>From the Symbol Browser, select <B CLASS="Callout">
Tools</B>
 <EM CLASS="Arrow">
-></EM>
 <B CLASS="Callout">
Build Settings</B>
 to start the <B CLASS="Callout">
Build Settings</B>
 dialog.<P>
<P CLASS="FigureTitle">
<A NAME="pgfId-510381"></A><B CLASS="Callout">
Build Settings</B>
 dialog for creating a native project</P>
<P CLASS="Figure">
<A NAME="pgfId-510394"></A><IMG SRC="gstarget-2.gif" ALIGN="BASELINE">
</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503398"></A>Enter <KBD CLASS="Code">
x86_native</KBD>
 as the name of the native build project.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503405"></A>Click <B CLASS="Callout">
Create</B>. The <B CLASS="Callout">
Edit Target</B>
 dialog opens (<A HREF="gstarget.html#15728" CLASS="XRef">Edit Target dialog</A>).<P>
<P CLASS="FigureTitle">
<A NAME="pgfId-508565"></A><B CLASS="Callout">
Edit Target</B>
<A NAME="15728"></A> dialog</P>
<P CLASS="Figure">
<A NAME="pgfId-508569"></A><IMG SRC="gstarget-3.gif" ALIGN="BASELINE">
&nbsp;</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503407"></A>In the <B CLASS="Callout">
Build Directory</B>
 field, click on the &quot;<B CLASS="Callout">...</B><A NAME="marker-503406"></A>&quot; 
button and select the directory in which you will store the object files and the executable.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511259"></A>Select <KBD CLASS="Code">
Executable</KBD>
 in the <B CLASS="Callout">
Target Type</B>
 field.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511260"></A>Select <KBD CLASS="Code">
GNUPro (native)</KBD>
 in the <B CLASS="Callout">
Tool Chain</B>
 field.<P>
<A NAME="pgfId-511264"></A>See the results 
in <A HREF="gstarget.html#33365" CLASS="XRef">Providing data for Build Directory, 
Target Type, and Tool Chain fields</A> for the <B CLASS="Callout">
Edit Target</B> dialog fields.</P>
<P CLASS="FigureTitle">
<A NAME="pgfId-504154"></A><A NAME="33365"></A>Providing data for <B CLASS="Callout">
Build Directory</B>, <B CLASS="Callout">
Target Type</B>, and <B CLASS="Callout"> Tool Chain</B> fields</P>
<P CLASS="Figure">
<A NAME="pgfId-504158"></A><IMG SRC="gstarget-4.gif" ALIGN="BASELINE"></P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503420"></A>Select all the files on the left hand side of the <B CLASS="Callout">
Edit Target</B> dialog by clicking on the first file and shift-clicking on the last file.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503421"></A>Click <B CLASS="Callout">
Add Files</B>
 to copy the files to the <B CLASS="Callout">
Target Files</B>
 list (<A HREF="gstarget.html#30613" CLASS="XRef">Project files added to a project</A>).<P>
<P CLASS="FigureTitle">
<A NAME="pgfId-503422"></A><A NAME="30613"></A>Project files added to a project </P>
<P CLASS="Figure">
<A NAME="pgfId-504671"></A><IMG SRC="gstarget-5.gif" ALIGN="BASELINE">
&nbsp;</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-505907"></A>Click the <B CLASS="Callout">
Build Rules</B>
 tab (<A HREF="gstarget.html#27321" CLASS="XRef">Modifying rules for how the project builds</A>).
<p><P CLASS="FigureTitle">
<A NAME="pgfId-503428"></A><A NAME="27321"></A>Modifying rules for how the project builds</P>
<P CLASS="Figure">
<A NAME="pgfId-504794"></A><IMG SRC="gstarget-6.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503433"></A>Double click on the line containing the rules 
that you want to modify (<B CLASS="Callout">C</B>
 type, in the example). The <B CLASS="Callout">
Build Rule Settings</B>
 dialog appears (<A HREF="gstarget.html#25758" CLASS="XRef">Selecting Debug 
method</A>).
<P>
<P CLASS="FigureTitle">
<A NAME="pgfId-510555"></A><A NAME="25758"></A>Selecting <B CLASS="Callout">
Debug</B>
 method</P>
<P CLASS="Figure">
<A NAME="pgfId-510559"></A><IMG SRC="gstarget-7.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503434"></A>Select <KBD CLASS="Code">
Standard Debug </KBD>
from the <B CLASS="Callout">
Debug</B>
 dropdown menu.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503447"></A>Click the <B CLASS="Callout">
Defines</B>
 tab to define a macro (<A HREF="gstarget.html#27403" CLASS="XRef">Defines tab</A>).<P>
<P CLASS="FigureTitle">
<A NAME="pgfId-503449"></A><B CLASS="Callout">
Defines</B>
<A NAME="27403"></A> tab</P>
<P CLASS="Figure">
<A NAME="pgfId-505040"></A><IMG SRC="gstarget-8.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503457"></A>Enter <KBD CLASS="Code">
_GNU_SOURCE</KBD>
 in the text entry field (<A HREF="gstarget.html#29691" CLASS="XRef">Adding a macro</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-503459"></A><A NAME="29691"></A>Adding a macro</P>
<P CLASS="Figure">
<A NAME="pgfId-508948"></A><IMG SRC="gstarget-9.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-508949"></A>Click the <B CLASS="Callout">
New</B>
 button to create the definition. Click<SPAN CLASS="Bold">
 </SPAN>
<B CLASS="Callout">
OK</B>
 to close the <B CLASS="Callout">
Build Rule Settings</B>
 dialog. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511562"></A>Click the <B CLASS="Callout">
Link Rules</B>
 tab of the <B CLASS="Callout">
Edit Target</B>
 dialog (<A HREF="gstarget.html#31668" CLASS="XRef">Link Rules tab</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-503469"></A><B CLASS="Callout">
Link Rules</B>
<A NAME="31668"></A> tab </P>
<P CLASS="Figure">
<A NAME="pgfId-503473"></A><IMG SRC="gstarget-10.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503474"></A>Enter -<KBD CLASS="Code">static</KBD>
 in the <B CLASS="Callout">
Link flags</B>
 field.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503475"></A>Click <B CLASS="Callout">
Debug</B>
 from the <B CLASS="Callout">
Debug/Execute Settings</B>
 buttons (see <A HREF="gstarget.html#16782" CLASS="XRef">Results of modifying Link flags field</A> for results).
<P CLASS="FigureTitle">
<A NAME="pgfId-510670"></A><A NAME="16782"></A>Results of modifying <B CLASS="Callout">
Link flags</B>
 field</P>
<P CLASS="Figure">
<A NAME="pgfId-510683"></A><IMG SRC="gstarget-11.gif" ALIGN="BASELINE">
</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503481"></A>Click <B CLASS="Callout">
OK</B>
 to close the <B CLASS="Callout">
Edit Target</B>
<SPAN CLASS="Bold">
 </SPAN>
dialog. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503482"></A>Click <B CLASS="Callout">
Done</B>
 to close the <B CLASS="Callout">
</B>
<SPAN CLASS="Bold">
 </SPAN>
dialog.</LI></OL>
<P CLASS="Body"><A NAME="pgfId-503483"></A>You have now created the build target. Now you must compile the program.</P>
<H3 CLASS="Heading2">
<A NAME="pgfId-503485"></A><A NAME="19115"></A>Build the Native Application</H3>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-503486"></A>Select <B CLASS="Callout">
Tools</B>
<SPAN CLASS="Bold">
 </SPAN>
<EM CLASS="Arrow">
-></EM>
<SPAN CLASS="Bold">
 </SPAN>
<B CLASS="Callout">
Build</B>
 from the Symbol Browser in Source-Navigator. The <B CLASS="Callout">
Build</B>
<SPAN CLASS="Bold">
 </SPAN>
dialog opens.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503487"></A>In <B CLASS="Callout">
Build Targets</B>, select <KBD CLASS="Code">
x86_native</KBD>
 from the target list. Click <B CLASS="Callout">
Start</B>
 (<A HREF="gstarget.html#34021" CLASS="XRef">Compiling the x86_native application</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-503492"></A><A NAME="34021"></A>Compiling the <KBD CLASS="Code">
x86_native</KBD>
 application </P>
<P CLASS="Figure">
<A NAME="pgfId-503496"></A><IMG SRC="gstarget-12.gif" ALIGN="BASELINE">
</P></LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503497"></A><KBD CLASS="Code">
x86_native</KBD>
 compiles without errors.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503498"></A>Click <B CLASS="Callout">
Debug </B>
to open the Insight visual debugger for debugging the demo on the host machine. 
See Insight's <B CLASS="Callout">
Help</B>
 menu or <A HREF="gsdebug.html#38213" CLASS="XRef">Working with Insight, the 
Debugger Interface</A> for more information about debugging.</LI>
<LI>Use a web browser and connect to <KBD CLASS="Code">http://localhost:8080</KBD>; you should see the <A HREF="gstarget.html#pgfId-511893" CLASS="XRef">calendar</A>.</LI></OL>
<H2 CLASS="Heading1">
<A NAME="pgfId-503500"></A><A NAME="40955"></A>Working with an Embedded Target</H2>
<P CLASS="Body">
<A NAME="pgfId-505847"></A><A NAME="marker-505846"></A>Now that you have created the host demo project, you will create the build target using similar steps to download the project to the <KBD CLASS="CodeVariant">
x</KBD>
86 target board. </P>
<H3 CLASS="Label">
<A NAME="pgfId-508692"></A>IMPORTANT!</H3>
<P CLASS="Note">
<A NAME="pgfId-508698"></A>The PowerPC MBX target board's configuration has different settings.</P>
<P CLASS="Body">
<A NAME="pgfId-505849"></A>For more information on the windows, dialog boxes, menus, buttons, and other features and functions of Source-Navigator, see its <B CLASS="Callout">
Help</B>
 menu.</P>
<H3 CLASS="Heading2">
<A NAME="pgfId-503539"></A><A NAME="14194"></A>Setting Up a Target Configuration</H3>
<P CLASS="Body">
<A NAME="pgfId-503550"></A>Use Source-Navigator's <B CLASS="Callout">
EDK Preferences</B>
 dialog to specify EDK-specific parameters. </P>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-503551"></A>Select <B CLASS="Callout">
File</B>
<SPAN CLASS="Bold">
 </SPAN>
<EM CLASS="Arrow">
-></EM>
<SPAN CLASS="Bold">
 </SPAN>
<B CLASS="Callout">
EDK Preferences</B>
 from the <B CLASS="Callout">
Symbol Browser</B>
 window.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503552"></A>When the <B CLASS="Callout">
EDK Preferences</B>
 dialog appears (<A HREF="gstarget.html#29403" CLASS="XRef">Target 
tab fields</A>), enter the <KBD CLASS="Code">
&lt;</KBD><KBD CLASS="CodeVariant">target-IP-address</KBD><KBD CLASS="Code">&gt;</KBD>
 from <A HREF="gsinstall.html#35667" CLASS="XRef">Network information</A> in 
the <B CLASS="Callout">
Hostname</B>
 field.
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503555"></A>Enter <KBD CLASS="Code">
/tftpboot/&lt;</KBD><KBD CLASS="CodeVariant">target-IP-address</KBD><KBD CLASS="Code">&gt;/zImage </KBD>
in the <B CLASS="Callout">
Boot Image</B>
 field 
(<KBD CLASS="Code">&lt;</KBD><KBD CLASS="CodeVariant">target-IP-address</KBD><KBD CLASS="Code">&gt;</KBD>
 indicates the target's IP address that the <A NAME="marker-508816"></A>DHCP 
server assigns, which you determined 
from <A HREF="gsinstall.html#35667" CLASS="XRef">Network information</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-503558"></A><A NAME="29403"></A><B CLASS="Callout">
Target</B>
 tab fields </P>
<P CLASS="Figure">
<A NAME="pgfId-505206"></A><IMG SRC="gstarget-13.gif" ALIGN="BASELINE">
</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503563"></A>Click the <B CLASS="Callout">
Filesystem</B>
<SPAN CLASS="Bold">
 </SPAN>
tab (<A HREF="gstarget.html#39048" CLASS="XRef">Sprecifying information for the Filesystem tab fields</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-508993"></A><A NAME="39048"></A>Specifying information for the <B CLASS="Callout">
Filesystem</B>
 tab fields </P>
<P CLASS="Figure">
<A NAME="pgfId-508997"></A><IMG SRC="gstarget-14.gif" ALIGN="BASELINE">
</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503564"></A>Select <B CLASS="Callout">
NFS Root</B>
 as the filesystem.<P>
<A NAME="pgfId-503565"></A>Enter <KBD CLASS="Code">
/tftpboot/&lt;</KBD><KBD CLASS="CodeVariant">target</KBD>-<KBD CLASS="CodeVariant">IP</KBD>-<KBD CLASS="CodeVariant">address</KBD><KBD CLASS="Code">&gt;</KBD>
 in the <B CLASS="Callout">
Root Directory</B>
 field (where you substitute <KBD CLASS="Code">
&lt;</KBD><KBD CLASS="CodeVariant">target-IP-address</KBD><KBD CLASS="Code">&gt;</KBD>
 for the value that you determined 
from <A HREF="gsinstall.html#35667" CLASS="XRef">Network information</A>).</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510773"></A>Click the <B CLASS="Callout">
Kernel</B>
 tab.</LI>
<P CLASS="FigureTitle">
<A NAME="pgfID-503596"></A>Specifying information for the <B CLASS="Callout">
Modules</B> section of the <B CLASS="Callout">Kernel</B>
<A NAME="40608"></A></P>
<P CLASS="Figure">
<A NAME="pgfId-505379"></A><IMG SRC="gstarget-15.gif" ALIGN="BASELINE"></P>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510774"></A>Specify the kernel in the <B CLASS="Callout">
Source Path</B>
 dialog area.<BR>
<UL><LI>The path to the <KBD CLASS="CodeVariant">
x</KBD>&nbsp;86 kernel should be:<BR>
<KBD CLASS="Code">~/kernels/linux-2.2.14-5</KBD>
</LI><LI>
The path to the PowerPC kernel should be:<BR>
<KBD CLASS="Code">~/kernels/linux-2.2.13</KBD>
</LI></UL>
<P CLASS="Body"><A NAME="pgfId-511646"></A>Select <B CLASS="Callout">
Monolithic</B>
 in the <B CLASS="Callout">
Modules</B>
 section.</P>
</LI>
</OL><OL Start="8">
<LI CLASS="NumberedNext">
<A NAME="pgfId-509085"></A>Click <B CLASS="Callout">
OK</B>
 to close the <B CLASS="Callout">
EDK Preferences</B>
 dialog.</LI>
</OL>
<H3 CLASS="Heading2">
<A NAME="pgfId-503603"></A><A NAME="26479"></A>Creating an Embedded Target's Build Rules</H3>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-503605"></A><A NAME="marker-503604"></A>Now, create the embedded target build rules. Choose <B CLASS="Callout">
Tools</B>
<SPAN CLASS="Bold">
 </SPAN>
<EM CLASS="Arrow">
-></EM>
<SPAN CLASS="Bold">
 </SPAN>
<B CLASS="Callout">
Build Settings</B>
 from the Symbol Browser in Source-Navigator to access the <B CLASS="Callout">
Build Settings</B>
 dialog.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503609"></A><A NAME="marker-503608"></A>Enter <KBD CLASS="Code">
x86_embedded_linux</KBD>
 as the name for the build application.
<H3 CLASS="Label">
<A NAME="pgfId-511164"></A>IMPORTANT!</H3>
<P CLASS="Note">
<A NAME="pgfId-511165"></A>The PowerPC MBX target board will use a different 
naming convention, such as <KBD CLASS="Code">
mbx_embedded_linux</KBD>
 for the build application.<P>

<A NAME="pgfId-511251"></A>Click <B CLASS="Callout">
Create </B>
(<A HREF="gstarget.html#15482" CLASS="XRef">Adding an embedded build rule</A>). The <B CLASS="Bold">
Edit Target</B> dialog opens.</P>
<P CLASS="FigureTitle">
<A NAME="pgfId-510425"></A><A NAME="15482"></A>Adding an embedded build rule </P>
<P CLASS="Figure">
<A NAME="pgfId-510429"></A><IMG SRC="gstarget-17.gif" ALIGN="BASELINE">
&nbsp;</P>
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511013"></A>In the <B CLASS="Callout">
Build Directory</B>
 field, click on the &quot;<B CLASS="Callout">...</B><A NAME="marker-511012"></A>&quot; button and select the directory in which you will store the object files and the executable.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511014"></A>Select <KBD CLASS="Code">
Executable</KBD>
 in the <B CLASS="Callout">
Target Type</B>
 field.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511015"></A>Select <KBD CLASS="Code">
GNUPro (Embedded x86 linux)</KBD>
 in the <B CLASS="Callout">
Tool Chain</B>
 field.</LI>
<LI CLASS="NumberedNext">
Select all the files on the left hand side of the <B CLASS="Bold">Edit Target</B> dialog by clicking on
the first file and shift-clicking on the last file.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511528"></A>Click <B CLASS="Callout">
Add Files</B>
 to copy the files to the <B CLASS="Callout">
Target Files</B>
 list.
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511057"></A>Click the <B CLASS="Callout">
Build Rules</B>
 tab.
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-511064"></A>Double click on the line containing the rules that you 
want to modify (<B CLASS="Callout">C</B> type, in the example). The <B CLASS="Callout">
Build Rule Settings</B>
 dialog appears.
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511074"></A>Select <KBD CLASS="Code">
Standard Debug </KBD>
from the <B CLASS="Callout">
Debug</B>
 dropdown menu.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511078"></A>Click the <B CLASS="Callout">
Defines</B>
 tab to define the macro.
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511088"></A>Enter <KBD CLASS="Code">
_GNU_SOURCE</KBD>
 in the text entry field (Defining the macro for the embedded target).<P>
<B CLASS="FigureTitle">
Defining the macro for the embedded target</B>
<P CLASS="Figure"><IMG SRC="gstarget-9.gif"></P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-511095"></A>Click the <B CLASS="Callout">
New</B>
 button to create the definition.</LI>
<LI CLASS="NumberedNext">
Click <B CLASS="Bold">OK</B> to close the <B CLASS="Bold">Build Rule Settings</B>.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511363"></A>Click the <B CLASS="Callout">
Link Rules</B>
 tab of the <B CLASS="Callout">
Edit Target</B>
 dialog.<P>
<A NAME="pgfId-511682"></A>Enter 
-<KBD CLASS="Code">static</KBD> in the <B CLASS="Callout">
Link flags</B>
 field. </P>
<A NAME="pgfId-511683"></A>Click <B CLASS="Callout">
Debug</B>
 from the <B CLASS="Callout">
Debug/Execute Settings</B>
 buttons.</P></LI>
</OL><OL START="16">
<LI CLASS="NumberedNext">
Click <B CLASS="Bold">OK</B> to close the <B CLASS="Bold">
Edit Target</B> dialog.<BR>
Click <B CLASS="Bold">Done</B> to close <B CLASS="Bold">Build Settings</B>.
</LI>
</OL>
<H3 CLASS="Heading2">
<A NAME="pgfId-503636"></A><A NAME="17141"></A>Build the Rules for an Embedded Project</H3>
<P CLASS="Body">
<A NAME="pgfId-503638"></A>Now, build the embedded target application. </P>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-511712"></A><A NAME="marker-503637"></A>Select <B CLASS="Callout">
Tools</B>
<SPAN CLASS="Bold">
 </SPAN>
<EM CLASS="Arrow">
-></EM>
<SPAN CLASS="Bold">
 </SPAN>
<B CLASS="Callout">
Build</B>. The <B CLASS="Callout">
Build</B>
 dialog opens. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-511688"></A>In the <B CLASS="Callout">
Build Targets</B>
 field, select <KBD CLASS="Code">
x86_embedded_linux</KBD>
 from the file list.</LI>
<LI CLASS="NumberedNext">Click <B CLASS="Callout">
Start</B>
 (<A HREF="gstarget.html#22710" CLASS="XRef">Choosing the embedded application to build</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-511350"></A><A NAME="22710"></A>Choosing the embedded application to build</P>
<P CLASS="Figure">
<A NAME="pgfId-511354"></A><IMG SRC="gstarget-23.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-503649"></A><KBD CLASS="Code">
x86_embedded_linux</KBD> generates without errors. </LI>
</OL>
<H3 CLASS="Heading2">
<A NAME="pgfId-503704"></A><A NAME="14143"></A>Debug an Executable Application on a Target Board</H3>
<P CLASS="Body">
<A NAME="pgfId-503706"></A>With the embedded executable application built into a program, you can debug it on the embedded target board with Insight.</P>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-503707"></A>Reboot the target board. 
<UL>
<LI>For the x86 board, insert the boot ROM floppy and power up the board.</LI>
<LI>For the MBX board, start Minicom, power up the board and type the following command at the EPPC-Bug prompt.<BR>
<KBD CLASS="Code">pl 20 0</KBD><BR>
The target board will get the boot image, the kernel will reboot, <KBD CLASS="Code">
gdbserver</KBD>
 will launch and the kernel's console window displays the message:<BR>
<KBD CLASS="Code"><A NAME="pgfId-503709"></A>&nbsp;&nbsp;Process /app created; pid=8</KBD>
</LI>
</UL>
<LI CLASS="NumberedNext">
<A NAME="pgfId-503710"></A><KBD CLASS="Code">
gdbserver</KBD>
 will then be waiting for GDB. Click the <B CLASS="Callout">
OK</B>
 button from <B CLASS="Bold">Project to debug</B>.<P>
<A NAME="pgfId-511737"></A>Insight launches, stopping at a breakpoint.<P>
<P CLASS="Body">For a native project, click the <B CLASS="Bold">Run</B> button. For an embedded project, click <B CLASS="Bold">Run</B> and then click the <B CLASS="Bold">Continue</B> button.</P>
<P CLASS="Body"><A NAME="pgfId-510348"></A>For more details on debugging, see <A HREF="gsdebug.html#38213" CLASS="XRef">Working with Insight, the Debugger Interface</A>.</LI></OL>
<H3 CLASS="Label">
<A NAME="pgfId-508329"></A>WARNING!</H3>
<P CLASS="Note">
<A NAME="pgfId-508338"></A>Do not debug any applications in the background or else debugging will not work.</P>
<H3 CLASS="Heading2">
<A NAME="pgfId-503722"></A>Run the Executable Application</H3>
<OL>
<LI CLASS="Numbered">
<A NAME="pgfId-504185"></A>After you successfully debug the target board application, now set up the application as an executable on the host. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510350"></A>Return to the <B CLASS="Callout">
Symbol Browser</B>
 to select <B CLASS="Callout">
Tools</B>
 <EM CLASS="Arrow">
-></EM>
 <B CLASS="Callout">
Build Settings</B>
 to start the <B CLASS="Callout">
Build Settings</B>
 dialog. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510155"></A>Double-click on <KBD CLASS="Code">
x86_embedded_linux</KBD>. The <B CLASS="Callout">
Edit Target</B>
 dialog opens. Click the <B CLASS="Callout">
Link Rules</B>
 tab of the <B CLASS="Callout">
Edit Target</B>
 dialog  (<A HREF="gstarget.html#15952" CLASS="XRef">Changing the application</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-510178"></A><A NAME="15952"></A> Changing the application</P>
<P CLASS="Figure">
<A NAME="pgfId-510186"></A><IMG SRC="gstarget-24.gif" ALIGN="BASELINE">
</P>
</LI><LI CLASS="NumberedNext">
<A NAME="pgfId-510198"></A>Click <B CLASS="Callout">
Execute </B>
from the <B CLASS="Callout">
Debug/Execute Settings</B>
 buttons.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510199"></A>Click <B CLASS="Callout">
OK</B>
 to close the <B CLASS="Callout">
Edit Target</B>
<SPAN CLASS="Bold">
 </SPAN>
dialog. </LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510219"></A>From the <B CLASS="Callout">
Symbol Browser</B>, select <B CLASS="Callout">
Tools</B>
 <EM CLASS="Arrow">
-></EM>
 <B CLASS="Callout">
Build</B>
 to start the <B CLASS="Callout">
Build Settings</B>
 dialog. Select the <KBD CLASS="Code">
x86_embedded_linux</KBD>
 target application from the <B CLASS="Callout">
Build Targets</B>
 drop-down list  (<A HREF="gstarget.html#34501" CLASS="XRef">Building the executable for the target board</A>). 
<P CLASS="FigureTitle">
<A NAME="pgfId-510181"></A><A NAME="34501"></A>Building the executable for the target board </P>
<P CLASS="Figure">
<A NAME="pgfId-511388"></A><IMG SRC="gstarget-25.gif" ALIGN="BASELINE">
</P>
<A NAME="pgfId-510175"></A>Click <B CLASS="Callout">
Start</B>.
</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510176"></A>Restart the target board. When you restart 
the target board, the application<A NAME="marker-510307"></A> downloads to the 
target board using the TFTP services.</LI>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510282"></A>Start your web browser and, in the location/address 
field, <A NAME="marker-510298"></A>provide the <A NAME="marker-510290"></A>target 
board's specific IP address followed by &quot;<KBD CLASS="Code">:8080</KBD>&quot; 
(as the following example shows).<BR>
<KBD CLASS="Code"><A NAME="pgfId-511506"></A>&nbsp;&nbsp;http://192.168.1.100:8080</KBD>
<LI CLASS="NumberedNext">
<A NAME="pgfId-510159"></A>See a calendar from a web page, running as the executable application from the target board, displaying on the host screen (<A HREF="gstarget.html#19102" CLASS="XRef">Executable in a web browser</A>).
<P CLASS="FigureTitle">
<A NAME="pgfId-511889"></A><A NAME="19102"></A>Executable in a web browser</P>
<P CLASS="Figure">
<A NAME="pgfId-511893"></A><IMG SRC="gstarget-26.gif" ALIGN="BASELINE">
</LI></OL>
<A NAME="pgfId-503738"></A><A NAME="marker-503735"></A><A NAME="marker-503736"></A><A NAME="marker-503737"></A><A NAME="marker-504412"></A></P>
</DIV>
<HR ALIGN="center">
<TABLE CLASS="TABLE" WIDTH="100" BORDER="0" ALIGN="center" CELLPADDING="1">
<TR><TD ALIGN="center">
<P CLASS="Gotos"><A HREF="index_gs.html">Contents</A>
</P></TD>
<TD ALIGN="center">
<P CLASS="Gotos"><A HREF="gshost.html">Previous</A></P></TD>
<TD ALIGN="center">
<P CLASS="Gotos">
<A HREF="gsdebug.html">Next</A></P></TD>
</TR></TABLE>
</BODY>
</HTML>
