package require tcltest

tcltest::test highlight-1.0 { sn_db_create_symbol_tags } {
    destroy .t
    toplevel .t
    set t [text .t.t]
    pack .t.t
    for {set i 0} {$i < 10} {incr i} {
        .t.t insert end "1234567890\n"
    }

    set symbols [list \
        {# global1 gv 000001.000 1.10 1.0 1.5} \
        {# global2 gv 000002.000 2.10 2.0 2.5} \
        {# function1 fu 000003.000 3.10 3.0 3.8} \
        {# global3 gv 000003.001 3.5 3.2 3.5} \
        ]

    # These change the order and set colors
    #.t.t tag configure fu -foreground green
    #.t.t tag configure gv -foreground red
    #.t.t tag raise gv fu

    sn_db_create_symbol_tags .t.t $symbols ""
    .t.t tag names
} {sel {global1 gv} gv {global2 gv} {function1 fu} fu {global3 gv}}

tcltest::test highlight-1.1 { sn_db_create_symbol_tags filter arg } {
    destroy .t
    toplevel .t
    set t [text .t.t]
    pack .t.t
    for {set i 0} {$i < 10} {incr i} {
        .t.t insert end "1234567890\n"
    }

    set symbols [list \
        {# global1 gv 000001.000 1.10 1.0 1.5} \
        {# global2 gv 000002.000 2.10 2.0 2.5} \
        {# function1 fu 000003.000 3.10 3.0 3.5} \
        {# global3 gv 000003.001 3.4 3.1 3.4} \
        {# function2 fu 000009.000 9.10 9.0 9.5} \
        ]

    sn_db_create_symbol_tags .t.t $symbols "gv"
    .t.t tag names
} {sel {function1 fu} fu {function2 fu}}

destroy .t
::tcltest::cleanupTests
return
